<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Functions and structs related to process information"><title>procfs::process - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-fa3bb1812debf86c.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="procfs" data-themes="" data-resource-suffix="" data-rustdoc-version="1.74.0 (79e9716c9 2023-11-13)" data-channel="1.74.0" data-search-js="search-8be46b629f5f14a8.js" data-settings-js="settings-74424d7eec62a23e.js" ><script src="../../static.files/storage-fec3eaa3851e447d.js"></script><script defer src="../../static.files/main-c5bd66d33317d69f.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-5d8b3c7633ad77ba.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../../procfs/index.html"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a></nav><nav class="sidebar"><a class="logo-container" href="../../procfs/index.html"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">Module process</a></h2><div class="sidebar-elems"><section><ul class="block"><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#functions">Functions</a></li><li><a href="#types">Type Aliases</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Module <a href="../index.html">procfs</a>::<wbr><a class="mod" href="#">process</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../../src/procfs/process/mod.rs.html#1-1626">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Functions and structs related to process information</p>
<p>The primary source of data for functions in this module is the files in a <code>/proc/&lt;pid&gt;/</code>
directory.  If you have a process ID, you can use
<a href="struct.Process.html#method.new"><code>Process::new(pid)</code></a>, otherwise you can get a
list of all running processes using <a href="fn.all_processes.html"><code>all_processes()</code></a>.</p>
<p>In case you have procfs filesystem mounted to a location other than <code>/proc</code>,
use <a href="struct.Process.html#method.new_with_root"><code>Process::new_with_root()</code></a>.</p>
<h2 id="examples"><a href="#examples">Examples</a></h2>
<p>Here’s a small example that prints out all processes that are running on the same tty as the calling
process.  This is very similar to what “ps” does in its default mode.  You can run this example
yourself with:</p>
<blockquote>
<p>cargo run –example=ps</p>
</blockquote>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let </span>me = procfs::process::Process::myself().unwrap();
<span class="kw">let </span>me_stat = me.stat().unwrap();
<span class="kw">let </span>tps = procfs::ticks_per_second().unwrap();

<span class="macro">println!</span>(<span class="string">&quot;{: &gt;10} {: &lt;8} {: &gt;8} {}&quot;</span>, <span class="string">&quot;PID&quot;</span>, <span class="string">&quot;TTY&quot;</span>, <span class="string">&quot;TIME&quot;</span>, <span class="string">&quot;CMD&quot;</span>);

<span class="kw">let </span>tty = <span class="macro">format!</span>(<span class="string">&quot;pty/{}&quot;</span>, me_stat.tty_nr().<span class="number">1</span>);
<span class="kw">for </span>prc <span class="kw">in </span>procfs::process::all_processes().unwrap() {
    <span class="kw">if let </span><span class="prelude-val">Ok</span>(stat) = prc.unwrap().stat() {
        <span class="kw">if </span>stat.tty_nr == me_stat.tty_nr {
            <span class="comment">// total_time is in seconds
            </span><span class="kw">let </span>total_time =
                (stat.utime + stat.stime) <span class="kw">as </span>f32 / (tps <span class="kw">as </span>f32);
            <span class="macro">println!</span>(
                <span class="string">&quot;{: &gt;10} {: &lt;8} {: &gt;8} {}&quot;</span>,
                stat.pid, tty, total_time, stat.comm
            );
        }
    }
}</code></pre></div>
<p>Here’s a simple example of how you could get the total memory used by the current process.
There are several ways to do this.  For a longer example, see the <code>examples/self_memory.rs</code>
file in the git repository.  You can run this example with:</p>
<blockquote>
<p>cargo run –example=self_memory</p>
</blockquote>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let </span>me = Process::myself().unwrap();
<span class="kw">let </span>me_stat = me.stat().unwrap();
<span class="kw">let </span>page_size = procfs::page_size().unwrap() <span class="kw">as </span>u64;

<span class="macro">println!</span>(<span class="string">&quot;== Data from /proc/self/stat:&quot;</span>);
<span class="macro">println!</span>(<span class="string">&quot;Total virtual memory used: {} bytes&quot;</span>, me_stat.vsize);
<span class="macro">println!</span>(<span class="string">&quot;Total resident set: {} pages ({} bytes)&quot;</span>, me_stat.rss, me_stat.rss <span class="kw">as </span>u64 * page_size);</code></pre></div>
</div></details><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.CoredumpFlags.html" title="struct procfs::process::CoredumpFlags">CoredumpFlags</a></div><div class="desc docblock-short">See the <a href="struct.Process.html#method.coredump_filter">coredump_filter()</a> method.</div></li><li><div class="item-name"><a class="struct" href="struct.FDInfo.html" title="struct procfs::process::FDInfo">FDInfo</a></div><div class="desc docblock-short">See the <a href="struct.Process.html#method.fd" title="method procfs::process::Process::fd">Process::fd()</a> method</div></li><li><div class="item-name"><a class="struct" href="struct.FDPermissions.html" title="struct procfs::process::FDPermissions">FDPermissions</a></div><div class="desc docblock-short">The mode (read/write permissions) for an open file descriptor</div></li><li><div class="item-name"><a class="struct" href="struct.FDsIter.html" title="struct procfs::process::FDsIter">FDsIter</a></div><div class="desc docblock-short">The result of <a href="struct.Process.html#method.fd" title="method procfs::process::Process::fd"><code>Process::fd</code></a>, iterates over all fds in a process</div></li><li><div class="item-name"><a class="struct" href="struct.Io.html" title="struct procfs::process::Io">Io</a></div><div class="desc docblock-short">This struct contains I/O statistics for the process, built from <code>/proc/&lt;pid&gt;/io</code></div></li><li><div class="item-name"><a class="struct" href="struct.Limit.html" title="struct procfs::process::Limit">Limit</a></div></li><li><div class="item-name"><a class="struct" href="struct.Limits.html" title="struct procfs::process::Limits">Limits</a></div><div class="desc docblock-short">Process limits</div></li><li><div class="item-name"><a class="struct" href="struct.MemoryMap.html" title="struct procfs::process::MemoryMap">MemoryMap</a></div><div class="desc docblock-short">Represents an entry in a <code>/proc/&lt;pid&gt;/maps</code> file.</div></li><li><div class="item-name"><a class="struct" href="struct.MemoryMapData.html" title="struct procfs::process::MemoryMapData">MemoryMapData</a></div><div class="desc docblock-short">Represents the information about a specific mapping as presented in /proc/<pid>/smaps</div></li><li><div class="item-name"><a class="struct" href="struct.MemoryPageFlags.html" title="struct procfs::process::MemoryPageFlags">MemoryPageFlags</a></div><div class="desc docblock-short">Represents the fields and flags in a page table entry for a memory page.</div></li><li><div class="item-name"><a class="struct" href="struct.MountInfo.html" title="struct procfs::process::MountInfo">MountInfo</a></div><div class="desc docblock-short">Information about a specific mount in a process’s mount namespace.</div></li><li><div class="item-name"><a class="struct" href="struct.MountNFSStatistics.html" title="struct procfs::process::MountNFSStatistics">MountNFSStatistics</a></div><div class="desc docblock-short">Only NFS mounts provide additional statistics in <code>MountStat</code> entries.</div></li><li><div class="item-name"><a class="struct" href="struct.MountStat.html" title="struct procfs::process::MountStat">MountStat</a></div><div class="desc docblock-short">Mount information from <code>/proc/&lt;pid&gt;/mountstats</code>.</div></li><li><div class="item-name"><a class="struct" href="struct.NFSByteCounter.html" title="struct procfs::process::NFSByteCounter">NFSByteCounter</a></div><div class="desc docblock-short">Represents NFS data from <code>/proc/&lt;pid&gt;/mountstats</code> under the section <code>bytes</code>.</div></li><li><div class="item-name"><a class="struct" href="struct.NFSEventCounter.html" title="struct procfs::process::NFSEventCounter">NFSEventCounter</a></div><div class="desc docblock-short">Represents NFS data from <code>/proc/&lt;pid&gt;/mountstats</code> under the section <code>events</code>.</div></li><li><div class="item-name"><a class="struct" href="struct.NFSOperationStat.html" title="struct procfs::process::NFSOperationStat">NFSOperationStat</a></div><div class="desc docblock-short">Represents NFS data from <code>/proc/&lt;pid&gt;/mountstats</code> under the section of <code>per-op statistics</code>.</div></li><li><div class="item-name"><a class="struct" href="struct.NFSServerCaps.html" title="struct procfs::process::NFSServerCaps">NFSServerCaps</a></div></li><li><div class="item-name"><a class="struct" href="struct.Namespace.html" title="struct procfs::process::Namespace">Namespace</a></div><div class="desc docblock-short">Information about a namespace</div></li><li><div class="item-name"><a class="struct" href="struct.PageMap.html" title="struct procfs::process::PageMap">PageMap</a></div><div class="desc docblock-short">Parses page table entries accessing <code>/proc/&lt;pid&gt;/pagemap</code>.</div></li><li><div class="item-name"><a class="struct" href="struct.Process.html" title="struct procfs::process::Process">Process</a></div><div class="desc docblock-short">Represents a process in <code>/proc/&lt;pid&gt;</code>.</div></li><li><div class="item-name"><a class="struct" href="struct.ProcessesIter.html" title="struct procfs::process::ProcessesIter">ProcessesIter</a></div><div class="desc docblock-short">An iterator over all processes in the system.</div></li><li><div class="item-name"><a class="struct" href="struct.Schedstat.html" title="struct procfs::process::Schedstat">Schedstat</a></div><div class="desc docblock-short">Provides scheduler statistics of the process, based on the <code>/proc/&lt;pid&gt;/schedstat</code> file.</div></li><li><div class="item-name"><a class="struct" href="struct.SmapsRollup.html" title="struct procfs::process::SmapsRollup">SmapsRollup</a></div></li><li><div class="item-name"><a class="struct" href="struct.Stat.html" title="struct procfs::process::Stat">Stat</a></div><div class="desc docblock-short">Status information about the process, based on the <code>/proc/&lt;pid&gt;/stat</code> file.</div></li><li><div class="item-name"><a class="struct" href="struct.StatFlags.html" title="struct procfs::process::StatFlags">StatFlags</a></div><div class="desc docblock-short">Kernel flags for a process</div></li><li><div class="item-name"><a class="struct" href="struct.StatM.html" title="struct procfs::process::StatM">StatM</a></div><div class="desc docblock-short">Provides information about memory usage, measured in pages.</div></li><li><div class="item-name"><a class="struct" href="struct.Status.html" title="struct procfs::process::Status">Status</a></div><div class="desc docblock-short">Status information about the process, based on the <code>/proc/&lt;pid&gt;/status</code> file.</div></li><li><div class="item-name"><a class="struct" href="struct.SwapPageFlags.html" title="struct procfs::process::SwapPageFlags">SwapPageFlags</a></div><div class="desc docblock-short">Represents the fields and flags in a page table entry for a swapped page.</div></li><li><div class="item-name"><a class="struct" href="struct.Task.html" title="struct procfs::process::Task">Task</a></div><div class="desc docblock-short">A task (aka Thread) inside of a <a href="struct.Process.html" title="struct procfs::process::Process"><code>Process</code></a></div></li><li><div class="item-name"><a class="struct" href="struct.TasksIter.html" title="struct procfs::process::TasksIter">TasksIter</a></div><div class="desc docblock-short">The result of <a href="struct.Process.html#method.tasks" title="method procfs::process::Process::tasks"><code>Process::tasks</code></a>, iterates over all tasks in a process</div></li><li><div class="item-name"><a class="struct" href="struct.VmFlags.html" title="struct procfs::process::VmFlags">VmFlags</a></div><div class="desc docblock-short">Represents the kernel flags associated with the virtual memory area.
The names of these flags are just those you’ll find in the man page, but in upper case.</div></li></ul><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.FDTarget.html" title="enum procfs::process::FDTarget">FDTarget</a></div><div class="desc docblock-short">Describes a file descriptor opened by a process.</div></li><li><div class="item-name"><a class="enum" href="enum.LimitValue.html" title="enum procfs::process::LimitValue">LimitValue</a></div></li><li><div class="item-name"><a class="enum" href="enum.MMapPath.html" title="enum procfs::process::MMapPath">MMapPath</a></div></li><li><div class="item-name"><a class="enum" href="enum.MountOptFields.html" title="enum procfs::process::MountOptFields">MountOptFields</a></div><div class="desc docblock-short">Optional fields used in <a href="struct.MountInfo.html" title="struct procfs::process::MountInfo">MountInfo</a></div></li><li><div class="item-name"><a class="enum" href="enum.PageInfo.html" title="enum procfs::process::PageInfo">PageInfo</a></div><div class="desc docblock-short">Represents a page table entry in <code>/proc/&lt;pid&gt;/pagemap</code>.</div></li><li><div class="item-name"><a class="enum" href="enum.ProcState.html" title="enum procfs::process::ProcState">ProcState</a></div><div class="desc docblock-short">Represents the state of a process.</div></li></ul><h2 id="functions" class="small-section-header"><a href="#functions">Functions</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.all_processes.html" title="fn procfs::process::all_processes">all_processes</a></div><div class="desc docblock-short">Return a iterator of all processes</div></li><li><div class="item-name"><a class="fn" href="fn.all_processes_with_root.html" title="fn procfs::process::all_processes_with_root">all_processes_with_root</a></div><div class="desc docblock-short">Return a list of all processes based on a specified <code>/proc</code> path</div></li></ul><h2 id="types" class="small-section-header"><a href="#types">Type Aliases</a></h2><ul class="item-table"><li><div class="item-name"><a class="type" href="type.NFSPerOpStats.html" title="type procfs::process::NFSPerOpStats">NFSPerOpStats</a></div></li></ul></section></div></main></body></html>